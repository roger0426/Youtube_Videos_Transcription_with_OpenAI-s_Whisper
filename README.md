# YouTube 智能語音轉文字工具（逐字稿）

一個功能強大的 YouTube 影片語音轉文字工具，支援本地 Whisper 模型和 OpenAI API，並具備智能標點符號處理功能。

## 功能特色

- 🎵 **YouTube 音訊下載**: 自動下載 YouTube 影片音訊
- 🤖 **智能轉錄模式**: 自動選擇最佳轉錄方式（本地/API）
- 💻 **本地 Whisper 模型**: 支援多種模型大小（large/medium/small/base/tiny）
- 🌐 **OpenAI API 整合**: 使用 Whisper API 進行高品質轉錄
- 📝 **智能標點符號**: 使用 GPT 為轉錄文字添加標點符號
- 🔧 **系統資源檢測**: 自動檢測系統資源並建議最佳模型
- 🛡️ **安全 API 管理**: 支援環境變數和安全的 API Key 儲存
- 🌏 **繁體中文支援**: 自動轉換簡體中文為繁體中文

## 安裝需求

### 系統需求
- Python 3.8+
- 至少 4GB RAM（建議 8GB+）
- GPU 支援（可選，用於加速本地模型）

### 安裝依賴套件

```bash
pip install -r requirements.txt
```

## 使用方法

### 基本使用

```bash
python main_mix.py
```

程式會引導您完成以下步驟：

1. **輸入 YouTube 網址**
2. **確認影片資訊**
3. **選擇轉錄模式**：
   - 智能模式（推薦）
   - 本地模式
   - API 模式

### 轉錄模式說明

#### 1. 智能模式（推薦）
- 優先使用本地 Whisper 模型
- 如果本地轉錄失敗，自動切換到 OpenAI API
- 根據系統資源自動選擇最佳模型

#### 2. 本地模式
- 僅使用本地 Whisper 模型
- 需要較多系統資源
- 完全離線處理

#### 3. API 模式
- 僅使用 OpenAI Whisper API
- 需要網路連線和 API Key
- 處理速度快，品質高

### API Key 設定

首次使用 API 功能時，程式會引導您設定 OpenAI API Key：

1. 手動輸入 API Key
2. 選擇是否儲存到 `.env` 檔案
3. 下次使用時自動載入

## 輸出檔案

轉錄結果會儲存在 `output/` 目錄中，檔案名稱格式：
```
{影片標題}.txt
```

## 專案結構

```
transcripts/
├── main_mix.py          # 主程式
├── requirements.txt     # 依賴套件
├── .gitignore          # Git 忽略檔案
├── downloads/          # 下載的音訊檔案
├── output/            # 轉錄結果
└── README.md          # 說明文件
```

## 系統資源建議

| 模型大小 | 記憶體需求 | GPU 記憶體 | 品質 | 速度 |
|---------|-----------|-----------|------|------|
| tiny    | 1GB       | -         | 低   | 最快 |
| base    | 1GB       | -         | 中   | 快   |
| small   | 2GB       | -         | 中   | 中   |
| medium  | 5GB       | 4GB       | 高   | 慢   |
| large   | 10GB      | 8GB       | 最高 | 最慢 |

## 注意事項

- 確保有足夠的磁碟空間儲存音訊檔案和轉錄結果
- 使用 API 模式需要 OpenAI API Key 和網路連線
- 本地模式需要較多系統資源，建議在效能較好的電腦上使用
- 標點符號處理功能需要額外的 API 調用

## 故障排除

### 常見問題

1. **記憶體不足錯誤**
   - 嘗試使用較小的模型（small/base）
   - 關閉其他應用程式釋放記憶體

2. **下載失敗**
   - 檢查網路連線
   - 確認 YouTube 網址正確
   - 嘗試重新執行

3. **API 錯誤**
   - 檢查 API Key 是否正確
   - 確認 API 額度是否足夠
   - 檢查網路連線

## 授權

此專案為開源軟體，請遵守相關使用條款。

## 貢獻

歡迎提交 Issue 和 Pull Request 來改善此專案。
